# Frontend Pages Spec (Flutter + Provider + GoRouter)

> ë³¸ ë¬¸ì„œëŠ” **í˜ì´ì§€ë³„ ê¸°ëŠ¥ ì •ì˜**ì™€ ë¼ìš°íŒ…/ìƒíƒœ/ì´ë²¤íŠ¸ íë¦„ì„ ìƒì„¸íˆ ê·œì •í•©ë‹ˆë‹¤.  
> ê¸°ì¡´ `features_spec.md`ì˜ í”„ë¡ íŠ¸ ê´€ë ¨ ì„¹ì…˜ì„ êµ¬ì²´í™”/ì„¸ë¶„í™”í•œ ë¬¸ì„œì´ë©°, ìš°ì„  ì ìš© ê¸°ì¤€ì…ë‹ˆë‹¤.

## 0) ê³µí†µ ì•„í‚¤í…ì²˜
- ë¼ìš°íŒ…: GoRouter
- ìƒíƒœ: Provider (BoardsProvider, PostsProvider, MeProvider, CommentsProvider, AuthProvider)
- ë„¤íŠ¸ì›Œí‚¹: Dio (services/api.dart)
- ëª¨ë¸: models/(Board, Post, Comment, User)
- ìœ„ì ¯: widgets/ (PostCard, PostList, EditorToolbar ë“±)
- ì—ë””í„°: CKEditor5(WebView/iframe ì„ë² ë””ë“œ) + ì—…ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸ ì—°ë™
- ë‚™ê´€ì  UI: ì‘ì„±/ìˆ˜ì •/ëŒ“ê¸€ ì‘ì„± ì‹œ ì„ ë°˜ì˜ â†’ ì„œë²„ ì‘ë‹µ/ì¬ê²€ì¦(SWR)ë¡œ ë³´ì •
- ì ‘ê·¼ì„±: ëª¨ë“  ì£¼ìš” ë²„íŠ¼ì— semanticLabel, í‚¤ë³´ë“œ í¬ì»¤ìŠ¤, ìŠ¤í¬ë¦°ë¦¬ë” ë¼ë²¨

### ë””ë ‰í„°ë¦¬ êµ¬ì¡° ì œì•ˆ
```
lib/
  main.dart
  router.dart
  models/
    board.dart
    post.dart
    comment.dart
    user.dart
  providers/
    boards_provider.dart
    posts_provider.dart
    comments_provider.dart
    me_provider.dart
    auth_provider.dart
  pages/
    home/
      home_page.dart
    board/
      board_list_page.dart
    post/
      post_detail_page.dart
      post_editor_page.dart
    admin/
      admin_boards_page.dart
      admin_posts_page.dart
    auth/
      sign_in_page.dart
      sign_up_page.dart
    profile/
      profile_page.dart
    search/
      search_page.dart
    notifications/
      notifications_page.dart
  widgets/
    app_scaffold.dart
    post_card.dart
    post_list.dart
    error_view.dart
    empty_view.dart
  services/
    api.dart         // Dio í´ë¼ì´ì–¸íŠ¸ + API ë˜í¼
    ckeditor_bridge.dart // ì—ë””í„°ì™€ ë°ì´í„° ë™ê¸° ëª¨ë“ˆ
```

### ë¼ìš°íŠ¸ í…Œì´ë¸”
| ê²½ë¡œ | í˜ì´ì§€ | ì„¤ëª… |
|---|---|---|
| `/` | HomePage | ì´ˆê¸°/ëŒ€ì‹œë³´ë“œ |
| `/b/:slug` | BoardListPage | ê²Œì‹œíŒ ëª©ë¡(ë‰´ìŠ¤/ì‹¤í—˜/ììœ /ì»¤ìŠ¤í…€) |
| `/p/:id` | PostDetailPage | ê²Œì‹œê¸€ ìƒì„¸(ì¡°íšŒìˆ˜ ì¦ê°€) |
| `/post/new?slug=:slug` | PostEditorPage | ìƒˆ ê¸€ ì‘ì„± |
| `/post/edit/:id` | PostEditorPage | ê¸€ ìˆ˜ì • |
| `/admin/boards` | AdminBoardsPage | ê²Œì‹œíŒ ê´€ë¦¬(ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ) |
| `/admin/posts` | AdminPostsPage | ê²Œì‹œê¸€ ê´€ë¦¬(í•„í„°/ì¼ê´„ ì²˜ë¦¬) |
| `/auth/sign-in` | SignInPage | ë¡œê·¸ì¸ |
| `/auth/sign-up` | SignUpPage | íšŒì›ê°€ì… |
| `/me` | ProfilePage | ë‚´ ì •ë³´/ì ìˆ˜ |
| `/search` | SearchPage | í†µí•© ê²€ìƒ‰ |
| `/notifications` | NotificationsPage | ì•Œë¦¼ |

---

## 1) AppScaffold (ê³µìš© ë ˆì´ì•„ì›ƒ)
**ëª©í‘œ**: ê³µí†µ í—¤ë”/ë‚´ë¹„/í‘¸í„° ë° ë³´ë“œ ë™ì  ë©”ë‰´ ë°˜ì˜

- **UI ìš”ì†Œ**: ì•±ë°”(ê²€ìƒ‰ ë²„íŠ¼, ì•Œë¦¼, í”„ë¡œí•„), ì‚¬ì´ë“œ ë‚´ë¹„(BoardsProvider ê¸°ë°˜), ì»¨í…ì¸  ìŠ¬ë¡¯
- **ìƒíƒœ/ë°ì´í„°**: `BoardsProvider.load()` ê²°ê³¼ ê¸°ë°˜ìœ¼ë¡œ ë©”ë‰´ êµ¬ì„±
- **ìƒí˜¸ì‘ìš©**: ë³´ë“œ í´ë¦­ â†’ `/b/:slug` ì´ë™
- **ì—ëŸ¬/ë¡œë”©**: ë³´ë“œ ëª©ë¡ ë¡œë”© ìŠ¤í”¼ë„ˆ, ì—ëŸ¬ ì‹œ ì¬ì‹œë„ ë²„íŠ¼
- **ë°˜ì‘í˜•**: ì‚¬ì´ë“œë°”(>1024px) / ë°”í…€ ë‚´ë¹„(<1024px)

---

## 2) HomePage
**ëª©í‘œ**: ì§„ì… í˜ì´ì§€. ìµœê·¼ ê¸€/ê³ ì •ê¸€/ë‰´ìŠ¤ ì¹´ë“œ ì„¹ì…˜

- **ë°ì´í„°**: ì¸ê¸° ê¸€ Top N, ê° ë³´ë“œ ìµœì‹  5ê±´ (ìºì‹œ í—ˆìš©)
- **ìƒí˜¸ì‘ìš©**: ì¹´ë“œ í´ë¦­â†’ ìƒì„¸, ë³´ë“œ ì„¹ì…˜ ë”ë³´ê¸°â†’ í•´ë‹¹ ë³´ë“œ ëª©ë¡
- **API**: `/api/boards` + `/api/boards/:slug/posts?limit=5`
- **ìˆ˜ìš© ê¸°ì¤€**: 1ì´ˆ ë‚´ ì´ˆê¸° ë Œë”(ìºì‹œ ì‚¬ìš©), ë„¤íŠ¸ì›Œí¬ í›„ ë³´ì •

---

## 3) BoardListPage (`/b/:slug`)
**ëª©í‘œ**: íŠ¹ì • ë³´ë“œì˜ ëª©ë¡ + ê³ ì •ê¸€ ìƒë‹¨ + ì •ë ¬/í•„í„° + í˜ì´ì§€ë„¤ì´ì…˜

- **UI**: 
  - í—¤ë”: ë³´ë“œëª…/ì„¤ëª…/ê¸€ì“°ê¸° ë²„íŠ¼
  - íˆ´ë°”: ì •ë ¬(ìµœì‹ /ì¸ê¸°/ëŒ“ê¸€ìˆœ), ê²€ìƒ‰(ì œëª©/ë³¸ë¬¸/íƒœê·¸), íƒœê·¸ í•„í„°
  - ëª©ë¡: **PostCard**(ë‰´ìŠ¤: ì¸ë„¤ì¼ ì¹´ë“œ / ì¼ë°˜: ë¦¬ìŠ¤íŠ¸í˜•)
- **ìƒíƒœ/ë°ì´í„°**:
  - `PostsProvider.list(slug)`
  - ì²« ì§„ì… ì‹œ `PostsProvider.load(slug)` (ìºì‹œ ìˆìœ¼ë©´ ì¦‰ì‹œ í‘œì‹œ)
- **ìƒí˜¸ì‘ìš©**:
  - ê¸€ì“°ê¸° â†’ `/post/new?slug=:slug`
  - ì¹´ë“œ í´ë¦­ â†’ `/p/:id`
- **Optimistic**:
  - ì‘ì„± ì„±ê³µ/ìˆ˜ì • ì„±ê³µ ì‹œ **ì¦‰ì‹œ ëª©ë¡ ë°˜ì˜**(ì´ë¯¸ êµ¬í˜„ëœ Provider ë©”ì„œë“œ ì‚¬ìš©)
- **API**: `GET /api/boards/:slug/posts`
- **ìˆ˜ìš© ê¸°ì¤€**: 
  - ê³ ì •ê¸€ì€ í•­ìƒ ìµœìƒë‹¨, ë™ì¼ ì •ë ¬ ê¸°ì¤€ ìœ ì§€
  - ë¡œë”©/ë¹ˆ ìƒíƒœ/ì—ëŸ¬ ì²˜ë¦¬ ëª…í™•

---

## 4) PostDetailPage (`/p/:id`)
**ëª©í‘œ**: ë³¸ë¬¸, ë©”íƒ€(ì‘ì„±ì/ë°œí–‰ì¼/ì¡°íšŒìˆ˜), íƒœê·¸, ì²¨ë¶€, ëŒ“ê¸€

- **UI**: ì œëª©, ë©”íƒ€(ğŸ‘ view_count í¬í•¨), ë³¸ë¬¸ ë Œë”(HTML), íƒœê·¸, ì²¨ë¶€íŒŒì¼ ë¦¬ìŠ¤íŠ¸
- **ëŒ“ê¸€ ì„¹ì…˜**: ì…ë ¥ì°½(ë¡œê·¸ì¸ í•„ìš”), ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸(ìµœì‹ ìˆœ/ì¶”ì²œìˆœ í† ê¸€)
- **ìƒíƒœ/ë°ì´í„°**: `PostsProvider.fetchById(id)` + `CommentsProvider.load(id)`
- **ì¡°íšŒìˆ˜ ì¦ê°€**: ì§„ì… ì‹œ `GET /api/posts/:id` í˜¸ì¶œ â†’ ì„œë²„ê°€ `view_count` ì¦ê°€ í›„ ìµœì‹ ê°’ ë°˜í™˜
- **ìƒí˜¸ì‘ìš©**:
  - ìˆ˜ì • ë²„íŠ¼(ê¶Œí•œ ì‹œ) â†’ `/post/edit/:id`
  - ëŒ“ê¸€ ì‘ì„± â†’ ë‚™ê´€ì  ì¶”ê°€ **ì¦‰ì‹œ ë¦¬ìŠ¤íŠ¸ ë°˜ì˜** â†’ ì„œë²„ ì‘ë‹µìœ¼ë¡œ ë³´ì •, MeProvider.score +1 ë‚™ê´€ ë°˜ì˜
- **API**: `GET /api/posts/:id`, `GET/POST /api/posts/:id/comments`
- **ìˆ˜ìš© ê¸°ì¤€**: ìƒˆë¡œê³ ì¹¨ ì—†ì´ view_count ê°±ì‹ ëœ ê°’ í‘œì‹œ

---

## 5) PostEditorPage (`/post/new`, `/post/edit/:id`)
**ëª©í‘œ**: CKEditor5ë¡œ ê¸€ ì‘ì„±/ìˆ˜ì • (ì´ë¯¸ì§€ ì—…ë¡œë“œ, ì˜ˆì•½ ë°œí–‰, ê³ ì •ê¸€)

- **UI**: ì œëª© ì…ë ¥, ì—ë””í„°(ë³¸ë¬¸), ì¸ë„¤ì¼(ë‰´ìŠ¤í˜•), ê³ ì •ê¸€, ìƒíƒœ, ì˜ˆì•½ ë°œí–‰, íƒœê·¸
- **ìƒíƒœ/ë°ì´í„°**: 
  - ì‘ì„±: `boardSlug`ê°€ URL íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬
  - ìˆ˜ì •: ê¸°ì¡´ í¬ìŠ¤íŠ¸ ë¡œë“œ í›„ ì…ë ¥ ê°’ ì±„ìš°ê¸°
- **ì €ì¥ íë¦„(ì‘ì„±)**:
  1) ì €ì¥ í´ë¦­ â†’ `PostsProvider.create(slug, ...)` í˜¸ì¶œ
  2) **ë‚™ê´€ì **: temp postë¥¼ ëª©ë¡ì— ì‚½ì…
  3) ì„œë²„ ì‘ë‹µ ìˆ˜ì‹  â†’ temp êµì²´, `MeProvider.score += 10` ë‚™ê´€ ë°˜ì˜
  4) SWR ì¬ê²€ì¦
- **ì €ì¥ íë¦„(ìˆ˜ì •)**: ëª©ë¡ ë‚´ í•­ëª© íŒ¨ì¹˜ â†’ ì‘ë‹µìœ¼ë¡œ í™•ì • â†’ SWR ë³´ì •
- **API**: `POST /api/boards/:slug/posts`, `PUT /api/posts/:id`
- **ìˆ˜ìš© ê¸°ì¤€**: ì €ì¥ í›„ ëª©ë¡ì—ì„œ ì¦‰ì‹œ ë°˜ì˜, ë’¤ë¡œê°€ê¸° ì‹œ ìƒˆë¡œê³ ì¹¨ ë¶ˆí•„ìš”

---

## 6) AdminBoardsPage (`/admin/boards`)
**ëª©í‘œ**: ê²Œì‹œíŒ CRUD ë° ì„¤ì •

- **UI**: ëª©ë¡(ê²€ìƒ‰/ì •ë ¬), ìƒì„±/ìˆ˜ì • ë‹¤ì´ì–¼ë¡œê·¸
- **í•„ë“œ**: name, slug(ìœ ë‹ˆí¬), type, is_private, is_hidden, order_no, settings(JSON)
- **ìƒí˜¸ì‘ìš©**: ì €ì¥ ì‹œ `/api/boards` ìºì‹œ ë¬´íš¨í™” â†’ AppScaffold ë©”ë‰´ ìë™ ë°˜ì˜
- **API**: `GET/POST/PUT/DELETE /api/boards`
- **ìˆ˜ìš© ê¸°ì¤€**: ìƒì„± ì¦‰ì‹œ ì‚¬ìš©ì ë©”ë‰´ì— ë…¸ì¶œ(ë‹¤ìŒ ë¼ìš°íŠ¸ ì¬íƒìƒ‰ ì‹œ)

---

## 7) AdminPostsPage (`/admin/posts`)
**ëª©í‘œ**: ê²Œì‹œê¸€ ê´€ë¦¬(ë³´ë“œ/ìƒíƒœ/ê¸°ê°„/ì‘ì„±ì í•„í„°, ì¼ê´„ ê³ ì •/í•´ì œ/ì‚­ì œ)

- **UI**: í•„í„°/ê²€ìƒ‰, í…Œì´ë¸”(ì²´í¬ë°•ìŠ¤ ë©€í‹° ì„ íƒ), ì¼ê´„ ì‘ì—… ë²„íŠ¼
- **API**: `GET /api/admin/posts`, `PUT /api/admin/posts/bulk`
- **ìˆ˜ìš© ê¸°ì¤€**: ì¼ê´„ ì‘ì—… í›„ ëª©ë¡ ì¬ê²€ì¦, ì‹¤íŒ¨ í•­ëª© í”¼ë“œë°±

---

## 8) Auth (SignIn/SignUp)
**ëª©í‘œ**: ì¸ì¦/ê¶Œí•œ

- **SignIn**: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸, ì†Œì…œ ë¡œê·¸ì¸(ì„ íƒ)
- **SignUp**: í•„ìˆ˜ ì •ë³´, ì•½ê´€ ë™ì˜
- **ìƒíƒœ**: `AuthProvider`ê°€ í† í°/ì„¸ì…˜ ìœ ì§€, `MeProvider`ê°€ í˜„ì¬ ì‚¬ìš©ì/ì ìˆ˜ ìœ ì§€
- **ìˆ˜ìš© ê¸°ì¤€**: ë¡œê·¸ì¸ í›„ ì´ì „ ìœ„ì¹˜ ë³µê·€

---

## 9) ProfilePage (`/me`)
**ëª©í‘œ**: ì‚¬ìš©ì í”„ë¡œí•„/ì ìˆ˜/í™œë™ ìš”ì•½

- **UI**: ì•„ë°”íƒ€/ë‹‰ë„¤ì„/ì´ë©”ì¼, í˜„ì¬ **score**, ìµœê·¼ ê¸€/ëŒ“ê¸€
- **API**: `GET /api/me`
- **ìƒí˜¸ì‘ìš©**: ë‹‰ë„¤ì„/ì•„ë°”íƒ€ ìˆ˜ì •(ì„ íƒ)

---

## 10) SearchPage (`/search`)
**ëª©í‘œ**: í†µí•© ê²€ìƒ‰(ì œëª©/ë³¸ë¬¸/íƒœê·¸/ì‘ì„±ì)

- **UI**: ê²€ìƒ‰ ë°”, ê²°ê³¼ íƒ­(ê¸€/ëŒ“ê¸€)
- **API**: `GET /api/search?q=...`

---

## 11) NotificationsPage (`/notifications`)
**ëª©í‘œ**: ì‹œìŠ¤í…œ/ëŒ“ê¸€/ë©˜ì…˜ ì•Œë¦¼ ëª©ë¡

- **ë°ì´í„°**: ì„œë²„ í‘¸ì‹œ(WebSocket/SSE) ë˜ëŠ” í´ë§(ì´ˆê¸° í´ë§ í›„ í‘¸ì‹œ ì „í™˜ ê¶Œì¥)
- **ìƒí˜¸ì‘ìš©**: í•­ëª© í´ë¦­ â†’ í•´ë‹¹ ê¸€/ëŒ“ê¸€ ì´ë™

---

## 12) ì—ëŸ¬/ë¡œë”©/ë¹ˆ ìƒíƒœ í‘œì¤€
- ë¡œë”© ìŠ¤í”¼ë„ˆ: ì£¼ìš” ë¦¬ìŠ¤íŠ¸/ìƒì„¸/ì €ì¥ ì‹œ í‘œì‹œ
- ì—ëŸ¬ ë·°: ì‚¬ìœ  + ì¬ì‹œë„ ë²„íŠ¼
- ë¹ˆ ìƒíƒœ: ê°€ì´ë“œ ë©”ì‹œì§€ + CTA(ì˜ˆ: â€œì²« ê¸€ì„ ì‘ì„±í•´ ë³´ì„¸ìš”â€)

---

## 13) ì„±ëŠ¥/ì ‘ê·¼ì„±/êµ­ì œí™”
- ì´ë¯¸ì§€ lazy-load(ë‰´ìŠ¤ ì¸ë„¤ì¼)
- ëª©ë¡ ê°€ìƒí™”(ëŒ€ëŸ‰ ë°ì´í„° ì‹œ)
- Semantics ë¼ë²¨, í¬ì»¤ìŠ¤ ì´ë™/ë‹¨ì¶•í‚¤(ì—ë””í„° íˆ´ë°”)
- ë‹¤êµ­ì–´ i18n(ko ê¸°ë³¸, en í™•ì¥)

---

## 14) ìˆ˜ìš© ê¸°ì¤€(ìƒ˜í”Œ E2E ì‹œë‚˜ë¦¬ì˜¤)
1) **ê²Œì‹œíŒ ë™ì  ìƒì„± â†’ ë©”ë‰´ ìë™ ë°˜ì˜**
   - AdminBoardsPageì—ì„œ ìƒˆ ë³´ë“œ ìƒì„± â†’ í™ˆ/ì‚¬ì´ë“œ ë©”ë‰´ì— í‘œì‹œë¨
2) **ì‘ì„±/ìˆ˜ì • ì¦‰ì‹œ ë°˜ì˜**
   - BoardListPageì—ì„œ ê¸€ ì‘ì„± â†’ ì €ì¥ ì§í›„ ëª©ë¡ ì„ ë‘ì—ì„œ ë³´ì„(ìƒˆë¡œê³ ì¹¨ ë¶ˆí•„ìš”)
3) **ì¡°íšŒìˆ˜/ì ìˆ˜**
   - PostDetailPage ì§„ì… ì‹œ view_count ì¦ê°€ í‘œì‹œ
   - ê¸€ ì‘ì„± í›„ ProfilePageì—ì„œ score +10 ë°˜ì˜(ë‚™ê´€â†’SWR ë³´ì •)
4) **ëŒ“ê¸€ ì‘ì„±**
   - ìƒì„¸ì—ì„œ ëŒ“ê¸€ ì‘ì„± â†’ ì¦‰ì‹œ ë¦¬ìŠ¤íŠ¸ ë°˜ì˜, í”„ë¡œí•„ ì ìˆ˜ +1

---

## 15) TODOs
- [ ] CKEditor5 ì—…ë¡œë“œ/ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ëŸ¬ ì—°ê²°
- [ ] MeProvider/Dio ì¸í„°ì…‰í„°(401 í•¸ë“¤ë§, ì¬ì‹œë„)
- [ ] ì•Œë¦¼ ì±„ë„(WebSocket/SSE) ì„¤ê³„
- [ ] AdminPostsPage ì¼ê´„ ì‘ì—… API êµ¬ì²´í™”
- [ ] ë³´ë“œ/ê¸€ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤(ì½ê¸°/ì“°ê¸°/ê´€ë¦¬) ì„¸ë¶€í™”

---

## HomePage (ì¶”ê°€ ìƒì„¸)
- **ëª©í‘œ**: ë³´ë“œë³„ ìµœì‹ ê¸€ **5ê°œ**ë¥¼ í•œ í™”ë©´ì— ì œê³µ
- **API**: 
  - `GET /api/boards` ë¡œ ë³´ë“œ ìˆ˜ì§‘
  - ê° ë³´ë“œ: `GET /api/boards/:slug/posts?limit=5`
- **UI/ë™ì‘**: ë³´ë“œ ì„¹ì…˜ ì¹´ë“œ + `ë”ë³´ê¸°` â†’ `/b/:slug`, í•­ëª© íƒ­ â†’ `/p/:id`
- **ì„±ëŠ¥/ìºì‹œ**: ìºì‹œ ìš°ì„  ë Œë” + SWRë¡œ ìµœì‹ í™”
- **ìˆ˜ìš© ê¸°ì¤€**: Nê°œ ë³´ë“œ â†’ Nê°œ ì„¹ì…˜, ê° ì„¹ì…˜ **ìµœëŒ€ 5ê°œ** í•­ëª©

## Responsive Navigation (ì‹ ê·œ ì„¹ì…˜)
- **Breakpoint**: width **<= 640px** â†’ Bottom **NavigationBar**(NavigationDestination)
- **Breakpoint**: width **> 640px** â†’ Left **NavigationRail**(NavigationRailDestination)
- **ì¼ê´€ì„±**: ëª©ì ì§€/ìƒíƒœ ë™ê¸°í™”, ë™ì¼í•œ ì ‘ê·¼ì„± ë¼ë²¨/íˆ´íŒ ì œê³µ
- **ì „í™˜ ê¸°ì¤€**: ëŸ°íƒ€ì„ ë ˆì´ì•„ì›ƒ ê³„ì‚°(LayoutBuilder) ê¸°ë°˜
